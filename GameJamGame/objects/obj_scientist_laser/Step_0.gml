if(dir != -1 && length == 0) set_length()
cleanup()